{"ast":null,"code":"import{Navbar,Nav,Container,NavDropdown,Image}from'react-bootstrap';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NavigationBar=()=>{const{user,logout}=useAuth();const navigate=useNavigate();const handleLogout=()=>{logout();navigate('/login');};// Genera un avatar di default solo se l'utente non ha un'immagine caricata\nconst getProfileImage=()=>{if(user!==null&&user!==void 0&&user.avatar){// Usa l'immagine caricata dall'utente\nreturn user.avatar;}else{// Usa un avatar generato come fallback\nreturn`https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${user===null||user===void 0?void 0:user.firstName}+${user===null||user===void 0?void 0:user.lastName}`;}};return/*#__PURE__*/_jsx(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar.Brand,{as:Link,to:\"/\",children:\"Blog App\"}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"basic-navbar-nav\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"basic-navbar-nav\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"me-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/\",children:\"Home\"}),user&&/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/my-blogs\",children:\"I Miei Blog\"}),user&&/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/create-blog\",children:\"Crea Blog\"})]}),/*#__PURE__*/_jsx(Nav,{children:user?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Image,{src:getProfileImage(),alt:`${user.firstName} ${user.lastName}`,roundedCircle:true,width:40,height:40,className:\"me-2\",style:{objectFit:'cover'}// Mantiene le proporzioni dell'immagine\n}),/*#__PURE__*/_jsxs(NavDropdown,{title:`Ciao, ${user.firstName}`,id:\"user-dropdown\",align:\"end\",children:[/*#__PURE__*/_jsx(NavDropdown.Item,{as:Link,to:\"/profile\",children:\"Profilo\"}),/*#__PURE__*/_jsx(NavDropdown.Divider,{}),/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:handleLogout,children:\"Logout\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Nav.Link,{as:Link,to:\"/register\",children:\"Registrati\"})]})})]})]})});};export default NavigationBar;","map":{"version":3,"names":["Navbar","Nav","Container","NavDropdown","Image","Link","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NavigationBar","user","logout","navigate","handleLogout","getProfileImage","avatar","firstName","lastName","bg","variant","expand","children","Brand","as","to","Toggle","Collapse","id","className","src","alt","roundedCircle","width","height","style","objectFit","title","align","Item","Divider","onClick"],"sources":["C:/Users/esis/Downloads/M6W4D4/frontend/src/components/Navbar.jsx"],"sourcesContent":["import { Navbar, Nav, Container, NavDropdown, Image } from 'react-bootstrap';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst NavigationBar = () => {\r\n  const { user, logout } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    navigate('/login');\r\n  };\r\n\r\n  // Genera un avatar di default solo se l'utente non ha un'immagine caricata\r\n  const getProfileImage = () => {\r\n    if (user?.avatar) {\r\n      // Usa l'immagine caricata dall'utente\r\n      return user.avatar;\r\n    } else {\r\n      // Usa un avatar generato come fallback\r\n      return `https://ui-avatars.com/api/?background=0D8ABC&color=fff&name=${user?.firstName}+${user?.lastName}`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\r\n      <Container>\r\n        <Navbar.Brand as={Link} to=\"/\">Blog App</Navbar.Brand>\r\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n        <Navbar.Collapse id=\"basic-navbar-nav\">\r\n          <Nav className=\"me-auto\">\r\n            <Nav.Link as={Link} to=\"/\">Home</Nav.Link>\r\n            {user && <Nav.Link as={Link} to=\"/my-blogs\">I Miei Blog</Nav.Link>}\r\n            {user && <Nav.Link as={Link} to=\"/create-blog\">Crea Blog</Nav.Link>}\r\n          </Nav>\r\n          <Nav>\r\n            {user ? (\r\n              <div className=\"d-flex align-items-center\">\r\n                <Image \r\n                  src={getProfileImage()}\r\n                  alt={`${user.firstName} ${user.lastName}`}\r\n                  roundedCircle \r\n                  width={40} \r\n                  height={40} \r\n                  className=\"me-2\"\r\n                  style={{ objectFit: 'cover' }} // Mantiene le proporzioni dell'immagine\r\n                />\r\n                <NavDropdown title={`Ciao, ${user.firstName}`} id=\"user-dropdown\" align=\"end\">\r\n                  <NavDropdown.Item as={Link} to=\"/profile\">Profilo</NavDropdown.Item>\r\n                  <NavDropdown.Divider />\r\n                  <NavDropdown.Item onClick={handleLogout}>Logout</NavDropdown.Item>\r\n                </NavDropdown>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <Nav.Link as={Link} to=\"/login\">Login</Nav.Link>\r\n                <Nav.Link as={Link} to=\"/register\">Registrati</Nav.Link>\r\n              </>\r\n            )}\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nexport default NavigationBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}