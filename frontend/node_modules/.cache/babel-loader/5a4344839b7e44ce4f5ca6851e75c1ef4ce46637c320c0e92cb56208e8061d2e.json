{"ast":null,"code":"import{useState}from'react';import{Form,Button,Container,Alert}from'react-bootstrap';import{useNavigate,Link}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const[loading,setLoading]=useState(false);const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{const result=await login(email,password);if(result.success){navigate('/');// Reindirizzamento alla homepage dopo il login\n}else{setError(result.error);}}catch(err){setError('Si è verificato un errore durante il login');console.error(err);}finally{setLoading(false);}};const handleGoogleLogin=()=>{// Reindirizza l'utente all'endpoint di autenticazione Google\nwindow.location.href='http://localhost:3001/auths/login-google';};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:loading,className:\"mb-3\",children:loading?'Accesso in corso...':'Login'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-muted\",children:\"oppure\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"d-grid\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline-danger\",onClick:handleGoogleLogin,className:\"d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"currentColor\",className:\"bi bi-google me-2\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z\"})}),\"Accedi con Google\"]})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[\"Non hai un account? \",/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Registrati\"})]})]});};export default Login;","map":{"version":3,"names":["useState","Form","Button","Container","Alert","useNavigate","Link","useAuth","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","loading","setLoading","login","navigate","handleSubmit","e","preventDefault","result","success","err","console","handleGoogleLogin","window","location","href","className","children","variant","onSubmit","Group","Label","Control","type","value","onChange","target","required","disabled","onClick","xmlns","width","height","fill","viewBox","d","to"],"sources":["C:/Users/esis/Downloads/M6W4D4/frontend/src/pages/Login.jsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { Form, Button, Container, Alert } from 'react-bootstrap';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\n\r\nconst Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const { login } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const result = await login(email, password);\r\n      \r\n      if (result.success) {\r\n        navigate('/'); // Reindirizzamento alla homepage dopo il login\r\n      } else {\r\n        setError(result.error);\r\n      }\r\n    } catch (err) {\r\n      setError('Si è verificato un errore durante il login');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleGoogleLogin = () => {\r\n    // Reindirizza l'utente all'endpoint di autenticazione Google\r\n    window.location.href = 'http://localhost:3001/auths/login-google';\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h2>Login</h2>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Button type=\"submit\" disabled={loading} className=\"mb-3\">\r\n          {loading ? 'Accesso in corso...' : 'Login'}\r\n        </Button>\r\n        \r\n        <div className=\"text-center mb-3\">\r\n          <span className=\"text-muted\">oppure</span>\r\n        </div>\r\n        \r\n        <div className=\"d-grid\">\r\n          <Button \r\n            variant=\"outline-danger\" \r\n            onClick={handleGoogleLogin} \r\n            className=\"d-flex align-items-center justify-content-center\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" className=\"bi bi-google me-2\" viewBox=\"0 0 16 16\">\r\n              <path d=\"M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z\"/>\r\n            </svg>\r\n            Accedi con Google\r\n          </Button>\r\n        </div>\r\n      </Form>\r\n      <p className=\"mt-3\">\r\n        Non hai un account? <Link to=\"/register\">Registrati</Link>\r\n      </p>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}