{"ast":null,"code":"import{useState,useEffect,useCallback}from'react';import{Form,Button,Container,Alert,Spinner}from'react-bootstrap';import{useNavigate,useParams}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditBlog=()=>{const{id}=useParams();const{user}=useAuth();const[formData,setFormData]=useState({title:'',content:'',category:'',readTime:{value:0,unit:'minuti'},cover:null,author:''});const[loading,setLoading]=useState(true);const[error,setError]=useState('');const navigate=useNavigate();const fetchBlog=useCallback(async()=>{try{var _blog$author;setLoading(true);const response=await axios.get(`http://localhost:3001/blogs/${id}`);const blog=response.data;// Verifica se l'utente è l'autore del blog\nif(user&&blog.author&&user._id!==blog.author._id){setError(\"Non sei autorizzato a modificare questo blog\");setTimeout(()=>navigate('/my-blogs'),2000);// Reindirizza dopo 2 secondi\nreturn;}setFormData({title:blog.title||'',content:blog.content||'',category:blog.category||'',readTime:blog.readTime||{value:1,unit:'minuti'},cover:null,author:((_blog$author=blog.author)===null||_blog$author===void 0?void 0:_blog$author._id)||(user===null||user===void 0?void 0:user._id)||''});}catch(err){var _err$response,_err$response$data;console.error('Errore nel caricamento del blog:',err);setError(`Errore nel caricamento del blog: ${((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message}`);}finally{setLoading(false);}},[id,user,navigate]);useEffect(()=>{if(user){fetchBlog();}else{setError(\"Devi essere loggato per modificare un blog\");setTimeout(()=>navigate('/login'),2000);}},[fetchBlog,user,navigate]);const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);const formDataToSend=new FormData();formDataToSend.append('title',formData.title);formDataToSend.append('content',formData.content);formDataToSend.append('category',formData.category);formDataToSend.append('readTime',JSON.stringify(formData.readTime));if(formData.author){formDataToSend.append('author',formData.author);}if(formData.cover){formDataToSend.append('cover',formData.cover);}await axios.put(`http://localhost:3001/blogs/${id}`,formDataToSend,{headers:{'Content-Type':'multipart/form-data'}});setError('');navigate(`/blogs/${id}`);}catch(err){var _err$response2,_err$response2$data;console.error('Errore durante l\\'aggiornamento:',err);setError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Errore durante l\\'aggiornamento del blog');}finally{setLoading(false);}};const handleChange=e=>{if(e.target.name==='cover'){setFormData({...formData,cover:e.target.files[0]});}else if(e.target.name.startsWith('readTime.')){const field=e.target.name.split('.')[1];setFormData({...formData,readTime:{...formData.readTime,[field]:field==='value'?parseInt(e.target.value):e.target.value}});}else{setFormData({...formData,[e.target.name]:e.target.value});}};// Correzione degli operatori logici con parentesi per chiarire l'ordine di esecuzione\nif(error&&error.includes(\"Non sei autorizzato\")||error&&error.includes(\"Devi essere loggato\")){return/*#__PURE__*/_jsxs(Container,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(\"p\",{children:\"Sarai reindirizzato a breve...\"})]});}return/*#__PURE__*/_jsxs(Container,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Modifica Blog\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center my-5\",children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Caricamento...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Caricamento in corso...\"})]}):/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Titolo\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"title\",value:formData.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Contenuto\"}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",rows:10,name:\"content\",value:formData.content,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Categoria\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"category\",value:formData.category,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Tempo di Lettura\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Form.Control,{type:\"number\",name:\"readTime.value\",value:formData.readTime.value,onChange:handleChange,required:true,min:\"1\"}),/*#__PURE__*/_jsxs(Form.Select,{name:\"readTime.unit\",value:formData.readTime.unit,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"minuti\",children:\"Minuti\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ore\",children:\"Ore\"})]})]})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Immagine di Copertina\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",name:\"cover\",onChange:handleChange,accept:\"image/*\"}),/*#__PURE__*/_jsx(Form.Text,{className:\"text-muted\",children:\"Lascia vuoto per mantenere l'immagine corrente\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:loading,children:loading?'Aggiornamento...':'Aggiorna Blog'}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>navigate(`/blogs/${id}`),children:\"Annulla\"})]})]})]});};export default EditBlog;","map":{"version":3,"names":["useState","useEffect","useCallback","Form","Button","Container","Alert","Spinner","useNavigate","useParams","useAuth","axios","jsx","_jsx","jsxs","_jsxs","EditBlog","id","user","formData","setFormData","title","content","category","readTime","value","unit","cover","author","loading","setLoading","error","setError","navigate","fetchBlog","_blog$author","response","get","blog","data","_id","setTimeout","err","_err$response","_err$response$data","console","message","handleSubmit","e","preventDefault","formDataToSend","FormData","append","JSON","stringify","put","headers","_err$response2","_err$response2$data","handleChange","target","name","files","startsWith","field","split","parseInt","includes","className","children","variant","animation","role","onSubmit","Group","Label","Control","type","onChange","required","as","rows","min","Select","accept","Text","disabled","onClick"],"sources":["C:/Users/esis/Downloads/M6W4D4/frontend/src/pages/EditBlog.jsx"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { Form, Button, Container, Alert, Spinner } from 'react-bootstrap';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport axios from 'axios';\r\n\r\nconst EditBlog = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuth();\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    content: '',\r\n    category: '',\r\n    readTime: {\r\n      value: 0,\r\n      unit: 'minuti'\r\n    },\r\n    cover: null,\r\n    author: ''\r\n  });\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const fetchBlog = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(`http://localhost:3001/blogs/${id}`);\r\n      const blog = response.data;\r\n      \r\n      // Verifica se l'utente è l'autore del blog\r\n      if (user && blog.author && user._id !== blog.author._id) {\r\n        setError(\"Non sei autorizzato a modificare questo blog\");\r\n        setTimeout(() => navigate('/my-blogs'), 2000); // Reindirizza dopo 2 secondi\r\n        return;\r\n      }\r\n      \r\n      setFormData({\r\n        title: blog.title || '',\r\n        content: blog.content || '',\r\n        category: blog.category || '',\r\n        readTime: blog.readTime || { value: 1, unit: 'minuti' },\r\n        cover: null,\r\n        author: blog.author?._id || user?._id || ''\r\n      });\r\n    } catch (err) {\r\n      console.error('Errore nel caricamento del blog:', err);\r\n      setError(`Errore nel caricamento del blog: ${err.response?.data?.message || err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [id, user, navigate]);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      fetchBlog();\r\n    } else {\r\n      setError(\"Devi essere loggato per modificare un blog\");\r\n      setTimeout(() => navigate('/login'), 2000);\r\n    }\r\n  }, [fetchBlog, user, navigate]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      const formDataToSend = new FormData();\r\n      formDataToSend.append('title', formData.title);\r\n      formDataToSend.append('content', formData.content);\r\n      formDataToSend.append('category', formData.category);\r\n      formDataToSend.append('readTime', JSON.stringify(formData.readTime));\r\n      \r\n      if (formData.author) {\r\n        formDataToSend.append('author', formData.author);\r\n      }\r\n      \r\n      if (formData.cover) {\r\n        formDataToSend.append('cover', formData.cover);\r\n      }\r\n\r\n      await axios.put(`http://localhost:3001/blogs/${id}`, formDataToSend, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      setError('');\r\n      navigate(`/blogs/${id}`);\r\n    } catch (err) {\r\n      console.error('Errore durante l\\'aggiornamento:', err);\r\n      setError(err.response?.data?.message || 'Errore durante l\\'aggiornamento del blog');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.name === 'cover') {\r\n      setFormData({ ...formData, cover: e.target.files[0] });\r\n    } else if (e.target.name.startsWith('readTime.')) {\r\n      const field = e.target.name.split('.')[1];\r\n      setFormData({\r\n        ...formData,\r\n        readTime: { \r\n          ...formData.readTime, \r\n          [field]: field === 'value' ? parseInt(e.target.value) : e.target.value \r\n        }\r\n      });\r\n    } else {\r\n      setFormData({ ...formData, [e.target.name]: e.target.value });\r\n    }\r\n  };\r\n\r\n  // Correzione degli operatori logici con parentesi per chiarire l'ordine di esecuzione\r\n  if ((error && error.includes(\"Non sei autorizzato\")) || (error && error.includes(\"Devi essere loggato\"))) {\r\n    return (\r\n      <Container className=\"mt-4\">\r\n        <Alert variant=\"danger\">{error}</Alert>\r\n        <p>Sarai reindirizzato a breve...</p>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"mt-4\">\r\n      <h2>Modifica Blog</h2>\r\n      {error && <Alert variant=\"danger\">{error}</Alert>}\r\n      \r\n      {loading ? (\r\n        <div className=\"text-center my-5\">\r\n          <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"visually-hidden\">Caricamento...</span>\r\n          </Spinner>\r\n          <p className=\"mt-2\">Caricamento in corso...</p>\r\n        </div>\r\n      ) : (\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Titolo</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"title\"\r\n              value={formData.title}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          \r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Contenuto</Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={10}\r\n              name=\"content\"\r\n              value={formData.content}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          \r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Categoria</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          \r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Tempo di Lettura</Form.Label>\r\n            <div className=\"d-flex gap-2\">\r\n              <Form.Control\r\n                type=\"number\"\r\n                name=\"readTime.value\"\r\n                value={formData.readTime.value}\r\n                onChange={handleChange}\r\n                required\r\n                min=\"1\"\r\n              />\r\n              <Form.Select\r\n                name=\"readTime.unit\"\r\n                value={formData.readTime.unit}\r\n                onChange={handleChange}\r\n                required\r\n              >\r\n                <option value=\"minuti\">Minuti</option>\r\n                <option value=\"ore\">Ore</option>\r\n              </Form.Select>\r\n            </div>\r\n          </Form.Group>\r\n          \r\n          <Form.Group className=\"mb-3\">\r\n            <Form.Label>Immagine di Copertina</Form.Label>\r\n            <Form.Control\r\n              type=\"file\"\r\n              name=\"cover\"\r\n              onChange={handleChange}\r\n              accept=\"image/*\"\r\n            />\r\n            <Form.Text className=\"text-muted\">\r\n              Lascia vuoto per mantenere l'immagine corrente\r\n            </Form.Text>\r\n          </Form.Group>\r\n          \r\n          <div className=\"d-flex gap-2\">\r\n            <Button variant=\"primary\" type=\"submit\" disabled={loading}>\r\n              {loading ? 'Aggiornamento...' : 'Aggiorna Blog'}\r\n            </Button>\r\n            <Button variant=\"secondary\" onClick={() => navigate(`/blogs/${id}`)}>\r\n              Annulla\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default EditBlog;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}